webpackJsonp([10],{sley:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),i=s.n(a),r={name:"authManage",components:{Breadcrumb:s("+5CF").a},data:function(){return{breadcrumbItem:[{label:this.$t("message.home"),isHome:!0},{label:this.$t("message.setting")}],lang:"en",color:"#409EFF",imageUrl:"",ruleForm:{oldPass:"",newPass:""},rules:{oldPass:[{validator:function(t,e,s){var a=JSON.parse(localStorage.getItem("logininfo"));""===e?s(new Error("原始密码不能为空！")):e!==a.password?s(new Error("原始密码不正确！")):s()},required:!0,trigger:"blur"}],newPass:[{validator:function(t,e,s){""===e?s(new Error("新密码不能为空！")):s()},required:!0,trigger:"blur"}]}}},created:function(){this.init()},methods:{init:function(){},switchLang:function(t){this.$i18n.locale="en"===t?this.lang:"cn",localStorage.setItem("lang",this.$i18n.locale)},handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type||"image/jpg"===t.type,s=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG,JPEG,PNG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&s},savePersonSetting:function(){this.savePass()},savePass:function(){var t=JSON.parse(localStorage.getItem("logininfo"));t.password=this.ruleForm.newPass,localStorage.setItem("logininfo",i()(t)),this.$message({showClose:!0,message:"保存成功",type:"success"})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",{attrs:{breadcrumbItem:t.breadcrumbItem}}),t._v(" "),s("div",{staticClass:"setting-wrap"},[s("div",{staticClass:"setting-block"},[s("h3",[t._v(" "+t._s(t.$t("message.baseSetting"))+" ")]),t._v(" "),s("div",{staticClass:"setting-item"},[s("h4",[t._v(t._s(t.$t("message.langSetting")))]),t._v(" "),s("div",{staticClass:"langBtn"},[s("el-button",{staticClass:"addBtn",attrs:{size:"mini"},on:{click:function(e){return t.switchLang("cn")}}},[t._v("中文")]),t._v(" "),s("el-button",{staticClass:"addBtn",attrs:{size:"mini"},on:{click:function(e){return t.switchLang("en")}}},[t._v("English")])],1)]),t._v(" "),s("div",{staticClass:"setting-item"},[s("h4",[t._v(t._s(t.$t("message.themeSetting")))]),t._v(" "),s("div",{staticClass:"langBtn"},[s("el-color-picker",{attrs:{size:"small"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1)])]),t._v(" "),s("div",{staticClass:"setting-block"},[s("h3",[t._v(t._s(t.$t("message.infoSetting")))]),t._v(" "),s("div",{staticClass:"setting-item"},[s("h4",[t._v(t._s(t.$t("message.avatarSetting")))]),t._v(" "),s("div",{staticClass:"langBtn"},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?s("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),t._v(" "),s("div",{staticClass:"setting-item"},[s("h4",[t._v(t._s(t.$t("message.passwordSetting")))]),t._v(" "),s("div",{staticClass:"langBtn"},[s("el-form",{ref:"form",attrs:{model:t.ruleForm,rules:t.rules}},[s("el-form-item",{attrs:{prop:"oldPass"}},[s("el-input",{staticStyle:{width:"30%"},attrs:{type:"text",autocomplete:"off",placeholder:t.$t("message.oldPassword")},model:{value:t.ruleForm.oldPass,callback:function(e){t.$set(t.ruleForm,"oldPass",e)},expression:"ruleForm.oldPass"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"newPass"}},[s("el-input",{staticStyle:{width:"30%"},attrs:{type:"text",autocomplete:"off",placeholder:t.$t("message.newPassword")},model:{value:t.ruleForm.newPass,callback:function(e){t.$set(t.ruleForm,"newPass",e)},expression:"ruleForm.newPass"}})],1)],1)],1)]),t._v(" "),s("div",{staticClass:"saveBtn"},[s("el-button",{attrs:{size:"middle"},on:{click:function(e){return t.savePersonSetting()}}},[t._v(t._s(t.$t("message.save")))])],1)])])],1)},staticRenderFns:[]};var l=s("VU/8")(r,n,!1,function(t){s("ybPx")},"data-v-0cab53b6",null);e.default=l.exports},ybPx:function(t,e){}});
//# sourceMappingURL=10.12ea0d845d318de411b4.js.map