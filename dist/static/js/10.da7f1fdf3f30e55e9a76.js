webpackJsonp([10],{"O+ke":function(e,t){},sley:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),i=s.n(a),r={name:"authManage",components:{Breadcrumb:s("+5CF").a},data:function(){return{breadcrumbItem:[{label:this.$t("message.home"),isHome:!0},{label:this.$t("message.setting")}],lang:"en",color:"#409EFF",imageUrl:"",ruleForm:{oldPass:"",newPass:""},rules:{oldPass:[{validator:function(e,t,s){var a=JSON.parse(localStorage.getItem("logininfo"));""===t?s(new Error("原始密码不能为空！")):t!==a.password?s(new Error("原始密码不正确！")):s()},required:!0,trigger:"blur"}],newPass:[{validator:function(e,t,s){""===t?s(new Error("新密码不能为空！")):s()},required:!0,trigger:"blur"}]}}},created:function(){this.init()},methods:{init:function(){},switchLang:function(e){this.$i18n.locale="en"===e?this.lang:"cn",localStorage.setItem("lang",this.$i18n.locale)},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type,s=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG,JPEG,PNG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&s},savePersonSetting:function(){this.savePass()},savePass:function(){var e=JSON.parse(localStorage.getItem("logininfo"));e.password=this.ruleForm.newPass,localStorage.setItem("logininfo",i()(e)),this.$message({showClose:!0,message:"保存成功",type:"success"})}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Breadcrumb",{attrs:{breadcrumbItem:e.breadcrumbItem}}),e._v(" "),s("div",{staticClass:"setting-wrap"},[s("div",{staticClass:"setting-block"},[s("h3",[e._v(" "+e._s(e.$t("message.baseSetting"))+" ")]),e._v(" "),s("div",{staticClass:"setting-item"},[s("h4",[e._v(e._s(e.$t("message.langSetting")))]),e._v(" "),s("div",{staticClass:"langBtn"},[s("el-button",{staticClass:"addBtn",attrs:{size:"mini"},on:{click:function(t){return e.switchLang("cn")}}},[e._v("中文")]),e._v(" "),s("el-button",{staticClass:"addBtn",attrs:{size:"mini"},on:{click:function(t){return e.switchLang("en")}}},[e._v("English")])],1)]),e._v(" "),s("div",{staticClass:"setting-item"},[s("h4",[e._v(e._s(e.$t("message.themeSetting")))]),e._v(" "),s("div",{staticClass:"langBtn"},[s("el-color-picker",{attrs:{size:"small"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)])]),e._v(" "),s("div",{staticClass:"setting-block"},[s("h3",[e._v(e._s(e.$t("message.infoSetting")))]),e._v(" "),s("div",{staticClass:"setting-item"},[s("h4",[e._v(e._s(e.$t("message.avatarSetting")))]),e._v(" "),s("div",{staticClass:"langBtn"},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e._v(" "),s("div",{staticClass:"setting-item"},[s("h4",[e._v(e._s(e.$t("message.passwordSetting")))]),e._v(" "),s("div",{staticClass:"langBtn"},[s("el-form",{ref:"form",attrs:{model:e.ruleForm,rules:e.rules}},[s("el-form-item",{attrs:{prop:"oldPass"}},[s("el-input",{staticStyle:{width:"30%"},attrs:{type:"text",autocomplete:"off",placeholder:e.$t("message.oldPassword")},model:{value:e.ruleForm.oldPass,callback:function(t){e.$set(e.ruleForm,"oldPass",t)},expression:"ruleForm.oldPass"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"newPass"}},[s("el-input",{staticStyle:{width:"30%"},attrs:{type:"text",autocomplete:"off",placeholder:e.$t("message.newPassword")},model:{value:e.ruleForm.newPass,callback:function(t){e.$set(e.ruleForm,"newPass",t)},expression:"ruleForm.newPass"}})],1)],1)],1)]),e._v(" "),s("div",{staticClass:"saveBtn"},[s("el-button",{attrs:{size:"middle"},on:{click:function(t){return e.savePersonSetting()}}},[e._v(e._s(e.$t("message.save")))])],1)])])],1)},staticRenderFns:[]};var l=s("VU/8")(r,n,!1,function(e){s("O+ke")},"data-v-0cab53b6",null);t.default=l.exports}});
//# sourceMappingURL=10.da7f1fdf3f30e55e9a76.js.map