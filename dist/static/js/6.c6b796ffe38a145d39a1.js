webpackJsonp([6],{"6Qob":function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s("3cXf"),o=s.n(t),n={name:"login",data:function(){var e=this;return{ruleForm:{pass:"",username:""},rules:{pass:[{validator:function(r,s,t){""===s?t(new Error("密码不能为空！")):"czx"===e.ruleForm.username&&"czx"!==s||"admin"===e.ruleForm.username&&"admin"!==s||"superAdmin"===e.ruleForm.username&&"superAdmin"!==s?t(new Error("请输入正确的密码！")):t()},trigger:"blur"}],username:[{validator:function(e,r,s){""===r?s(new Error("用户名不能为空！")):"czx"!==r&&"admin"!==r&&"superAdmin"!==r?s(new Error("请输入正确的用户名！")):s()},trigger:"blur"}]},checked:!1,logininfo:{}}},created:function(){this.getUserInfo()},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return r.$message({showClose:!0,message:"登录失败，请重新登录！",type:"error"}),!1;var s={username:r.ruleForm.username,password:r.ruleForm.pass,checked:r.checked};s.auth="superAdmin"===r.ruleForm.username?"superAdmin":"admin"===r.ruleForm.username?"admin":"user",localStorage.setItem("logininfo",o()(s)),sessionStorage.setItem("login","login"),sessionStorage.setItem("token","token"),r.$router.push("/index"),r.$message({showClose:!0,message:"欢迎登录,"+r.ruleForm.username,type:"success"})})},remenberPass:function(){this.checked=!this.checked},getUserInfo:function(){this.logininfo=localStorage.getItem("logininfo")?JSON.parse(localStorage.getItem("logininfo")):{},this.logininfo.checked?(this.ruleForm.username=this.logininfo.username,this.ruleForm.pass=this.logininfo.password,this.checked=this.logininfo.checked):this.ruleForm={pass:"",username:""}}}},a={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"login"},[s("div",{staticClass:"mask"}),e._v(" "),s("div",{staticClass:"loginForm"},[s("div",{staticClass:"title"}),e._v(" "),s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{type:"text",placeholder:"用户名",autocomplete:"off"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"pass"}},[s("el-input",{attrs:{type:"password",placeholder:"密码",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),e._v(" "),s("el-form-item",[s("el-checkbox",{on:{click:e.remenberPass},model:{value:e.checked,callback:function(r){e.checked=r},expression:"checked"}},[e._v("记住密码")])],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("登录")])],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"text"}},[e._v("去注册")])],1)],1)],1)])},staticRenderFns:[]};var i=s("C7Lr")(n,a,!1,function(e){s("K3jz")},"data-v-5c909d7c",null);r.default=i.exports},K3jz:function(e,r){}});
//# sourceMappingURL=6.c6b796ffe38a145d39a1.js.map